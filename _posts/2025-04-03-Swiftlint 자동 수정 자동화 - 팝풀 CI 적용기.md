---
title: "[Swift] Swiftlint ìë™ ìˆ˜ì • ìë™í™” - íŒí’€ CI ì ìš©ê¸°"
date: 2025-04-03 11:22 +0900
categories:
  - ğŸ Dev
  - Swift
tags:
  - Swift
  - Project
  - PopPool
---
ì²˜ìŒ íŒ€ì— ë“¤ì–´ì˜¤ê³  ê°€ì¥ ë¨¼ì € ë§¡ì•˜ë˜ ì¼ì€ ì½”ë“œ ë¦¬ë·°ì˜€ë‹¤.

ë‹¹ì‹œ íŒ€ì€ ì „ë°˜ì ì¸ **ë¦¬íŒ©í† ë§**ì„ ì›í•˜ê³  ìˆì—ˆê¸°ì—, í”„ë¡œì íŠ¸ê°€ ì–´ë–¤ êµ¬ì¡°ë¡œ ë˜ì–´ ìˆëŠ”ì§€, ì–´ë–¤ ë¶€ë¶„ì„ ê°œì„ í•´ì•¼ í• ì§€ ê¼¼ê¼¼íˆ ì‚´í´ë³´ë ¤ ë…¸ë ¥í–ˆë‹¤.

ê·¸ëŸ°ë°â€¦

**í›„...** ì½”ë“œ ìŠ¤íƒ€ì¼ì´ ì´ë ‡ê²Œ ì¤‘ìš”í•˜ë‹¤ëŠ” ê±¸ ì‹¤ê°í•œ ê±´ ê·¸ ë¦¬ë·° ê³¼ì •ì„ ê±°ì¹˜ë©´ì„œì˜€ë‹¤.

í´ë˜ìŠ¤ëŠ” ì˜ ë‚˜ëˆ ì ¸ ìˆê³  ê¸°ëŠ¥ë„ ë‚˜ì˜ì§€ ì•Šì•˜ì§€ë§Œ, ë“¤ì—¬ì“°ê¸°, ê³µë°±, ì£¼ì„, ì¤„ ë°”ê¿ˆ...

**ì‚¬ì†Œí•œ ìŠ¤íƒ€ì¼ì´ ì œê°ê°**ì´ì—ˆê³ , ê·¸ ì‘ì€ ì°¨ì´ë“¤ì´ ì½”ë“œ ê°€ë…ì„±ì„ ë–¨ì–´ëœ¨ë¦¬ê³  ë¦¬ë·° ì‹œê°„ë„ ê¸¸ì–´ì§€ê²Œ ë§Œë“¤ê³  ìˆì—ˆë‹¤.

ê·¸ë˜ì„œ íŒ€ì›ì—ê²Œ **SwiftLint ë„ì…**ì„ ê°€ì¥ ë¨¼ì € ì œì•ˆí–ˆë‹¤.

## ğŸ¨ SwiftLint ë„ì…

ì²˜ìŒ ë¦°íŠ¸ë¥¼ ë„ì…í•˜ëŠ” ê±´ ì–´ë µì§€ ì•Šì•˜ë‹¤.

íŒ€ì›ë“¤ë„ ì½”ë“œ ìŠ¤íƒ€ì¼ ë¬¸ì œì— ëŒ€í•´ ê³µê°í•˜ê³  ìˆì—ˆê³ , ë„ì… ìì²´ì— ê±°ë¶€ê°ì€ ì—†ì—ˆë‹¤.

ê·¸ë˜ì„œ ë°”ë¡œ `.swiftlint.yml`ì„ êµ¬ì„±í•˜ê³  ë¹Œë“œë¥¼ ëŒë ¤ë´¤ëŠ”ë°â€¦

![ë¦°íŠ¸ ë„ì… ì§í›„](assets/img/post/2025/04_03_ë¦°íŠ¸_ë„ì…_ì§í›„.png) {:width="80"}_ë¦°íŠ¸ ë„ì… ì§í›„_

> ğŸ”´ Error: **42ê°œ**
> ğŸŸ¡ Warning: **4000ê°œ** ê·¼ì ‘

ìƒë‹¹íˆ ì¶©ê²©ì ì¸ ìˆ«ìì˜€ë‹¤.

ëŒ€ë¶€ë¶„ì€ ë“¤ì—¬ì“°ê¸°, ë¶ˆí•„ìš”í•œ ê³µë°±, ì¤„ ë°”ê¿ˆ ê°™ì€ **ìŠ¤íƒ€ì¼ ìœ„ì£¼ì˜ ë¬¸ì œ**ì˜€ë‹¤.

ê·¸ë˜ì„œ 1ì°¨ ì½”ë“œ ìŠ¤íƒ€ì¼ íšŒì˜ë¥¼ í†µí•´ SwiftLint ë£°ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í–ˆë‹¤.

íšŒì˜ë¥¼ ê±°ì¹œ ë‹¤ìŒ ì•„ë˜ì™€ ê°™ì€ ê·œì¹™ìœ¼ë¡œ ìˆ˜ì •í–ˆë‹¤.

```yml
# ê¸°ë³¸ í™œì„±í™”ëœ ë£° ì¤‘ì— ë¹„í™œì„±í™”í•  ë£°ì„ ì§€ì •
disabled_rules:
  - redundant_optional_initialization

# ê¸°ë³¸(default) ë£°ì´ ì•„ë‹Œ ë£°ë“¤ì„ í™œì„±í™”
opt_in_rules:
  - sorted_imports
  - direct_return
  - file_header
  - weak_delegate

# ê¸°ë³¸ í™œì„±í™”ëœ ë£° ì¤‘ì— ì¡°ê±´ì„ ë³€ê²½í•  ë£°
file_length: 400

function_body_length:
  warning: 100
  error: 150

cyclomatic_complexity:
  warning: 15
  error: 30
```

ì´í›„ ë‹¤ì‹œ ëŒë ¤ë³¸ ê²°ê³¼ëŠ”â€¦

![1ì°¨ ë¦°íŠ¸ ìˆ˜ì • í›„](assets/img/post/2025/04_03_ë¦°íŠ¸_ìˆ˜ì •_í›„.png) {:width="80"}_1ì°¨ ë¦°íŠ¸ ìˆ˜ì • í›„_

> ğŸ”´ Error: **33ê°œ**
> ğŸŸ¡ Warning: **4000ê°œ ëŒíŒŒ**

ì¤„ì–´ë“¤ê¸´ í–ˆì§€ë§Œ, ì—¬ì „íˆ **ê²½ê³ ëŠ” ë„ˆë¬´ ë§ì•˜ë‹¤**.

ì´ê±¸ ì „ë¶€ ìˆ˜ì‘ì—…ìœ¼ë¡œ ê³ ì¹œë‹¤ëŠ” ê±´ ë§ì´ ì•ˆ ëë‹¤.

## ğŸ”„ SwiftLint Autocorrect

ë‹¤í–‰íˆ SwiftLintëŠ” ìë™ ìˆ˜ì • ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.

ëª…ë ¹ì–´ëŠ” `swiftlint --fix`ë¡œ ê°„ë‹¨í–ˆë‹¤

í•˜ì§€ë§Œ ë¬¸ì œëŠ” ê·¸ê±¸ **ë§¤ë²ˆ ê°œë°œìê°€ ìˆ˜ë™ìœ¼ë¡œ í•´ì•¼ í•œë‹¤ëŠ” ê²ƒ**ì´ì—ˆë‹¤.
- ë§¤ë²ˆ `--fix`ë¥¼ ê¸°ì–µí•´ì•¼ í•˜ê³ 
- ê³ ì¹œ ë’¤ ì»¤ë°‹ë„ ì§ì ‘ í•´ì•¼ í•˜ë©°
- ìì¹«í•˜ë©´ ë¦°íŠ¸ ìˆ˜ì • ìì²´ê°€ ëˆ„ë½ë˜ê¸°ë„ ì‰½ë‹¤

ì´ëŸ° ë°˜ë³µ ì‘ì—…ì€ ê²°êµ­ **ëˆ„ë½ë˜ê±°ë‚˜ ë¬´ì‹œ**ë˜ê¸° ë§ˆë ¨ì´ë‹¤.

ê·¸ë˜ì„œ ìƒê°í–ˆë‹¤

> "ì•„ì˜ˆ ìë™í™”í•˜ë©´ ì•ˆ ë ê¹Œ?"

## âš™ï¸ GitHub Actionsë¡œ ìë™ ìˆ˜ì • ìë™í™”

ì´ì „ì— CIë¥¼ ì¨ë´¤ì„ ë•Œ ë¦°íŠ¸ ê²€ì‚¬ë¥¼ í–ˆë˜ íë¦„ì„ ì°¸ê³ í•´ì„œ, `autocorrect`ë¥¼ ìë™ìœ¼ë¡œ ëŒë¦¬ëŠ” ì›Œí¬í”Œë¡œë¥¼ ë§Œë“¤ì—ˆë‹¤.

```yaml
name: ğŸ¤– Autocorrect Workflow
runs-on: macos-15  # ìµœì‹  macOS 15 í™˜ê²½ì—ì„œ ì‹¤í–‰
if: github.actor != 'github-actions[bot]'  # Actions ë´‡ ì»¤ë°‹ì€ ë¬´ì‹œ

steps:
  # ë‚´ìš© ìƒëµ
  - name: ğŸ¨ Run SwiftLint Autocorrect  # SwiftLint ìë™ ìˆ˜ì • ì‹¤í–‰
    run: swiftlint --fix

  - name: ğŸš€ Commit and Push Changes  # ë³€ê²½ ì‚¬í•­ ìë™ ì»¤ë°‹ ë° í‘¸ì‹œ
    run: |
	  git config user.name "github-actions[bot]"
	  git config user.email "github-actions[bot]@users.noreply.github.com"

	  # ë‚´ìš© ìƒëµ

	  if [ -n "$(git status --porcelain)" ]; then
		git add .
		git commit -m "style/#${ISSUE_NUMBER}: Apply SwiftLint autocorrect"
		git push --set-upstream origin "${GITHUB_HEAD_REF}"
	  fi
```

ì´ëŸ° ì €ëŸ° ê²ƒë“¤ì„ ë§ì´ ìƒê°í–ˆë˜ê²ƒ ê°™ë‹¤. 

ìë™ ìˆ˜ì •ì€ ê¼­ ì»¤ë°‹ìœ¼ë¡œ ë‚¨ê¸°ê²Œ ë§Œë“¤ê³  ì‹¶ì—ˆê³ , ê·¸ ì»¤ë°‹ì´ ì»¨ë²¤ì…˜ë„ ë§ê²Œ í–ˆìœ¼ë©´ ì¢‹ê² ì–´ì„œ ì¢€ ê³ ìƒí–ˆë˜ê²ƒ ê°™ë‹¤.

ìµœì¢…ì ìœ¼ë¡œ ìë™ ì»¤ë°‹ ë©”ì‹œì§€ëŠ” `"style/#ì´ìŠˆë²ˆí˜¸: Apply SwiftLint autocorrect"` í˜•ì‹ìœ¼ë¡œ ë‚¨ê¸°ë„ë¡ í–ˆë‹¤. 

ë•ë¶„ì— ì´ì œëŠ” PRì´ ì—´ë¦¬ë©´ ì•Œì•„ì„œ ìŠ¤íƒ€ì¼ì´ ì •ë¦¬ë˜ê³ , ë¶ˆí•„ìš”í•œ ì¶”ê°€ ì‘ì—…ì„ ìƒëµí•˜ê²Œ í•  ìˆ˜ ìˆì—ˆë‹¤.

##  ğŸš€ CI ë„ì…

ìë™ ìˆ˜ì •ì„ ì…‹ì—…í•˜ë©´ì„œ, ìì—°ìŠ¤ëŸ½ê²Œ **CI íŒŒì´í”„ë¼ì¸**ë„ ë„ì…í•˜ê²Œ ëë‹¤.

ì½”ë“œë¥¼ ë³´ë˜ ì¤‘, ê½¤ ì˜¤ë˜ëœ PRì´ ëª‡ ë‹¬ì§¸ ì—´ë ¤ ìˆëŠ” ê±¸ ë´¤ë‹¤.

ê·¸ ìƒíƒœë¡œ ë°©ì¹˜ëœ ë¸Œëœì¹˜ê°€ ì‹¤ìˆ˜ë¡œ ë³‘í•©ëœë‹¤ë©´?

â†’ **ë¹Œë“œ ì—ëŸ¬**, **ê¸°ëŠ¥ ì¤‘ë‹¨**, **ë””ë²„ê¹… ì§€ì˜¥**ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ PRë§ˆë‹¤ **ê¸°ë³¸ì ì¸ ë¹Œë“œ í…ŒìŠ¤íŠ¸ì™€ ë¦°íŠ¸ ê²€ì‚¬ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰**ë˜ë„ë¡ CIë¥¼ êµ¬ì„±í–ˆë‹¤.


``` yaml
name: ğŸ—ï¸ Build Workflow
runs-on: macos-15  # ìµœì‹  macOS 15 í™˜ê²½ì—ì„œ ì‹¤í–‰
if: github.actor != 'github-actions[bot]'  # Actions ë´‡ ì»¤ë°‹ì€ ë¬´ì‹œ

steps:
  # ë‚´ìš© ìƒëµ
  - name: âš™ï¸ Generate xcconfig
    run: # ë‚´ìš© ìƒëµ

  # ë‚´ìš© ìƒëµ      
  - name: ğŸ¨ Run SwiftLint  # SwiftLint ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬ ì‹¤í–‰
	run: swiftlint
	
  # ë‚´ìš© ìƒëµ
  - name: ğŸ—ï¸ Build the project  # ìë™ ê²€ì§€ëœ Schemeê³¼ Simulatorë¡œ ë¹Œë“œ ìˆ˜í–‰
	run: # ë‚´ìš© ìƒëµ
```

CIë„ ë§ˆì°¬ê°€ì§€ë¡œ Schemeì´ ë³€ê²½ë  ìˆ˜ë„ ìˆê¸°ì— ìœ ì§€ë³´ìˆ˜ì„±ì„ ê³ ë ¤í•´ì„œ ì„¤ê³„í–ˆë˜ê²ƒ ê°™ë‹¤.

CI ë„ì…ì„ í†µí•´ íŒ€ì›ë“¤ì´ â€œë‚´ ì½”ë“œê°€ ë¬¸ì œ ì—†ì´ ì‘ë™í•œë‹¤â€ëŠ” **í™•ì‹ **ì„ ê°€ì§ˆ ìˆ˜ ìˆê²Œ í–ˆë‹¤.

ì½”ë“œ ì¶©ëŒë„ ë” ë¹¨ë¦¬ íŒŒì•…í•  ìˆ˜ ìˆì–´ì„œ merge ê³¼ì •ë„ í›¨ì”¬ ì›í™œí•´ì§ˆê²ƒì´ë¼ ë³´ì¸ë‹¤.

## ğŸ”§ ì¶”ê°€ ì‘ì—…: Secrets.swift â†’ xcconfig ì „í™˜

ì•„ë¬´ë˜ë„ Secretsì´ ì—†ìœ¼ë©´ ë¹Œë“œ íŒŒì¼ì— ê¸°ë¡ì€ ìˆì§€ë§Œ GitHub Actions í™˜ê²½ ê¸°ì¤€ìœ¼ë¡œëŠ” íŒŒì¼ì´ ì—†ìœ¼ë‹ˆ ì—ëŸ¬ê°€ ë‚ ê²ƒì´ë¼ ìƒê°í–ˆë‹¤.

ê·¸ë˜ì„œ CI ë¹Œë“œ ì„¸íŒ…ì„ ìœ„í•´ ê¸°ì¡´ì˜ `Secrets.swift`ë¥¼ `debug.xcconfig`/`release.xcconfig` êµ¬ì¡°ë¡œ ì „í™˜í–ˆë‹¤.

ë˜í•œ CIì—ì„  GitHubì˜ Repository secretì„ ì‚¬ìš©í•´ ì„ì‹œ `.xcconfig` íŒŒì¼ì„ ìƒì„±í•´ ë¹Œë“œ ì‹œ í•„ìš”í•œ í‚¤ë¥¼ ì£¼ì…í•˜ë„ë¡ êµ¬ì„±í–ˆë‹¤.

ë•ë¶„ì— **ë¯¼ê° ì •ë³´ê°€ ë ˆí¬ì— ë‚¨ì§€ ì•Šìœ¼ë©´ì„œë„ CI ë¹Œë“œê°€ ê°€ëŠ¥**í•´ì¡Œë‹¤.

##  ğŸ§‘ğŸ»â€ğŸ’» ê²°ê³¼

ìŠ¤íƒ€ì¼ í†µì¼, ë°˜ë³µ ì‘ì—… ì œê±°, ë¹Œë“œ ì•ˆì •ì„± í™•ë³´.

ì´ ëª¨ë“  ê±¸ ë‹¨ì§€ **ë¦°íŠ¸ ìë™í™”ì™€ CI êµ¬ì„±**ë§Œìœ¼ë¡œ ì´ë¤„ëƒˆë‹¤ëŠ” ê±´ ê½¤ ì¸ìƒ ê¹Šì€ ê²°ê³¼ì˜€ë‹¤.

íŠ¹íˆ SwiftLintì˜ `autocorrect`ë¥¼ GitHub Actionsë¡œ ìë™í™”í•œ ë ˆí¼ëŸ°ìŠ¤ëŠ” ìƒê°ë³´ë‹¤ í”í•˜ì§€ ì•Šì•„ ì¡°ê¸ˆ ê³ ìƒí–ˆì§€ë§Œ, ë„ì… ë‚œì´ë„ ëŒ€ë¹„ ë§Œì¡±ë„ëŠ” ì•„ì£¼ ë†’ì•˜ë‹¤.

[íŒí’€ iOS - PR #98: CI & Autocorrect ì ìš©](https://github.com/PopPool/iOS/pull/98)

í•´ë‹¹ ë§í¬ëŠ” íŒí’€ì˜ Swiftlint ì ìš©ê³¼ ê´€ë ¨ëœ PRì´ë‹¤. ì°¸ê³ ê°€ ë˜ë©´ ì¢‹ê² ë‹¤.
## ğŸ”— ë ˆí¼ëŸ°ìŠ¤
> **í•´ë‹¹ ìë£Œë¥¼ ì°¾ì•„ë³´ë©° ë„ì›€ì´ ëë˜ ë§í¬**
>- [SwiftLint GitHub](https://github.com/realm/SwiftLint)
>- [Fastlane + Github Actionsë¡œ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•í•˜ê¸° (6í¸ - Fastlane, github actionsë¡œ tuist projectì˜ CI/CD êµ¬í˜„)](https://jazz-the-it.tistory.com/85)
>- [[CI/CD] GitHub Actionsë¥¼ ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ìë™í™”](https://ho8487.tistory.com/126)