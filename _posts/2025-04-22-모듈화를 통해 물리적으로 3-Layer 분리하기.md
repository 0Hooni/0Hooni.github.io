---
title: "[Swift] ëª¨ë“ˆí™”ë¥¼ í†µí•´ ë¬¼ë¦¬ì ìœ¼ë¡œ 3-Layer ë¶„ë¦¬í•˜ê¸°"
date: 2025-04-22 10:09 +0900
categories:
  - ðŸŽ Dev
  - Swift
tags:
  - Swift
  - PopPool
---
íŒí’€ í”„ë¡œì íŠ¸ì—ì„œëŠ” MVVM ê¸°ë°˜ìœ¼ë¡œ ì‹œìž‘í–ˆì§€ë§Œ, ViewModelì´ ì ì  ë³µìž¡í•´ì§€ê³  ë¡œì§ì´ ë­‰ì¹˜ë©´ì„œ ìœ ì§€ë³´ìˆ˜ê°€ ì–´ë ¤ì›Œì§€ê³  ìžˆì—ˆë‹¤. 

ì´ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´ í´ë¦° ì•„í‚¤í…ì²˜ì˜ ê°œë…ì„ ë„ìž…í–ˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ë…¼ë¦¬ì ìœ¼ë¡œë§Œ ë ˆì´ì–´ë¥¼ êµ¬ë¶„í–ˆì„ ë¿, ë¬¼ë¦¬ì ì¸ ë¶„ë¦¬ ì—†ì´ ì½”ë“œê°€ ë’¤ì—‰ì¼œ ìžˆì—ˆë‹¤.

ì´ë¡œ ì¸í•´ íŒ€ì›ë“¤ì´ ì˜ì¡´ì„± ë°©í–¥ì„ ì¸ì§€í•˜ì§€ ëª»í•˜ê³  ì½”ë“œë¥¼ ìž‘ì„±í•˜ë©´ì„œ ê²°í•©ë„ê°€ ë†’ì•„ì¡Œê³ , ìžì—°ìŠ¤ëŸ½ê²Œ ì•„í‚¤í…ì²˜ì˜ ë°©í–¥ì„±ê³¼ ì¼ê´€ì„±ë„ ë¬´ë„ˆì§€ê¸° ì‹œìž‘í–ˆë‹¤.

ëŒ€í‘œì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œë“¤ì´ ìžˆì—ˆë‹¤.

- PresentationLayerì—ì„œ Domainì´ ì•„ë‹Œ DataLayerì˜ êµ¬í˜„ì²´(Service)ë¥¼ ì§ì ‘ ì°¸ì¡°í•˜ë©´ì„œ, ë ˆì´ì–´ ê°„ ì˜ì¡´ì„±ì´ ë’¤ì—‰ì¼œ ìžˆì—ˆë‹¤.
- ViewModelì—ì„œ í•˜ë‚˜ì˜ í™”ë©´ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ UseCaseê°€ í•„ìš”í–ˆì§€ë§Œ, ì˜ì¡´ì„± ì£¼ìž…ì´ ì¼ê´€ë˜ì§€ ì•Šê³  ë²ˆê±°ë¡œìš´ ë°©ì‹ìœ¼ë¡œ ì´ë¤„ì§€ê³  ìžˆì—ˆë‹¤.
- DTOì™€ Entityê°€ ëª…í™•ížˆ êµ¬ë¶„ë˜ì§€ ì•Šì•„, Domainê³¼ Presentation ë ˆì´ì–´ì—ì„œ ì§ì ‘ DTOë¥¼ ê°€ì ¸ë‹¤ ì“°ëŠ” ê²½ìš°ê°€ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí–ˆë‹¤.

ê²°êµ­ ìš°ë¦¬ëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³ ìž ëª¨ë“ˆí™”ë¥¼ í†µí•´ ë¬¼ë¦¬ì ìœ¼ë¡œë„ 3-Layer êµ¬ì¡°ë¥¼ ë¶„ë¦¬í•˜ê¸°ë¡œ í–ˆë‹¤.

> **\[GitHub PR] íŒí’€ 3-Layer í´ë¦°ì•„í‚¤í…ì²˜ ëª¨ë“ˆí™”**
> 
> [[REFACTOR] 3-Layer ê¸°ë°˜ í´ë¦°ì•„í‚¤í…ì²˜ë¡œ ëª¨ë“ˆí™”](https://github.com/PopPool/iOS/pull/121)

## ðŸ¡ ì•„í‚¤í…ì²˜ êµ¬ì¡°
![](assets/img/post/2025/04_22_ì•„í‚¤í…ì²˜_êµ¬ì¡°.png){: width=400}_íŒí’€ì˜ í´ë¦°ì•„í‚¤í…ì²˜ êµ¬ì¡°ë„_

1ì°¨ì ìœ¼ë¡œ íŒ€ê³¼ íšŒì˜ë¥¼ ê±°ì²˜ ê¸°ì¡´ì— ì˜ë„í–ˆë˜ ì•„í‚¤í…ì²˜ êµ¬ì¡°ì™€ ê°œì„ ì ì„ ê³ ë ¤í•œ ìƒˆë¡œìš´ ì•„í‚¤í…ì²˜ êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆë‹¤.

3-Layer ì•„í‚¤í…ì²˜ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬í•˜ë©´ì„œ, ê° ë ˆì´ì–´ê°€ ëª…í™•ížˆ ì—­í• ì„ ë¶„ë¦¬í•˜ë„ë¡ êµ¬ì„±í–ˆë‹¤.

ë˜í•œ ê³µí†µ ìœ í‹¸ì„± ì½”ë“œëŠ” Core ëª¨ë“ˆì— ìœ„ì¹˜ì‹œì¼œ, ê³µí†µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” íƒ€ìž… ë˜ëŠ” ìœ í‹¸ë¦¬í‹°ì— ì ‘ê·¼í•  ìˆ˜ ìžˆë„ë¡ í–ˆë‹¤.

## ðŸ¤” ì£¼ìš” ê³ ë¯¼ê³¼ í•´ê²°

### 1. ì˜ì¡´ì„± ì£¼ìž…ì˜ ì •ë¦½ê³¼ DIContainer ë„ìž…

ê¸°ì¡´ì—ëŠ” ê° ViewModelì—ì„œ ì§ì ‘ êµ¬í˜„ì²´ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê°€ì ¸ë‹¤ ì“°ëŠ” ë°©ì‹ì´ì—ˆì§€ë§Œ, ì´ëŠ” í…ŒìŠ¤íŠ¸ê°€ ì–´ë µê³  ìž¬ì‚¬ìš©ì´ íž˜ë“  êµ¬ì¡°ì˜€ë‹¤.

ê·¸ëž˜ì„œ ì˜ì¡´ì„± ì£¼ìž…ì„ ìœ„í•œ ë°©ë²•ìœ¼ë¡œ DIContainerë¥¼ ë„ìž…í•˜ê³ , ì´ë¥¼ í†µí•´ í•„ìš”í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë“±ë¡-ì£¼ìž…ë°›ëŠ” êµ¬ì¡°ë¡œ ì „í™˜í–ˆë‹¤.

ë˜í•œ `@Dependency` í”„ë¡œí¼í‹° ëž˜í¼ë¥¼ í†µí•´ DIë¥¼ ë³´ë‹¤ ê°„ê²°í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìžˆê²Œ ë˜ì–´, ViewModelì´ ì˜ì¡´ì„±ì— ëŒ€í•´ ëœ ì•Œê²Œ ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆì—ˆë‹¤.

> **íŒí’€ì˜ DIContainer ë„ìž…ê¸°**
> 
> [PropertyWrapperë¥¼ ì´ìš©í•œ DIContainer ë§Œë“¤ê¸° - Layerê°„ ì˜ì¡´ì„± íë¦„ ê°œì„ í•˜ê¸°](https://0hooni.github.io/posts/PropertyWrapper%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-DIContainer-%EB%A7%8C%EB%93%A4%EA%B8%B0-Layer%EA%B0%84-%EC%9D%98%EC%A1%B4%EC%84%B1-%ED%9D%90%EB%A6%84-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0/)

### 2. DTOì™€ Entityì˜ ë¶„ë¦¬

DataLayerì—ì„œ ì‚¬ìš©í•˜ëŠ” DTOë¥¼ Domainê³¼ Presentationì—ì„œ ì§ì ‘ ê°€ì ¸ë‹¤ ì“°ëŠ” ê²½ìš°ê°€ ë§Žì•„, ë ˆì´ì–´ ê°„ ê²°í•©ë„ê°€ ë§¤ìš° ë†’ì•„ì¡Œë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ DTOëŠ” DataLayerì—ì„œë§Œ ì¡´ìž¬í•˜ë„ë¡ í•˜ê³ , Domainì—ì„œëŠ” Entityë¡œ ë³€í™˜ëœ í˜•íƒœë§Œì„ ì‚¬ìš©í•˜ë„ë¡ ê¸°ì¤€ì„ ì„¸ì› ë‹¤.

`toDomain()` ë©”ì„œë“œë¥¼ í†µí•´ ë³€í™˜ ê³¼ì •ì„ ëª…ì‹œí•¨ìœ¼ë¡œì¨, ë ˆì´ì–´ ê°„ ì—­í• ê³¼ ì±…ìž„ì„ë¶„ëª…í•˜ë„ë¡ ìˆ˜ì •í•˜ì˜€ë‹¤.

## ðŸ ë§ˆë¬´ë¦¬

ì²˜ìŒì—ëŠ” ë­ publicì´ëž‘ importë§Œ ìž”ë“ ì¶”ê°€í•´ì£¼ë©´ ê¸ˆë°© ëë‚ ì¤„ ì•Œì•˜ì§€ë§Œ ìž¥ì°¨ 2ì£¼ì˜ ê¸°ê°„ë™ì•ˆ íŒ€ì›ê³¼ ë¶„ë‹´ì„ í•˜ë©´ì„œ ì§„í–‰í–ˆì—ˆë‹¤. 

ì´ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ë‚˜ë§Œì˜ ë¬¸ì œë¼ ëŠê»´ì§€ì§€ ì•ŠëŠ”ì§€ ìžì£¼ ë¯¸íŒ…ì„ ì§„í–‰í•˜ë©° ë°©í–¥ì„±ì— ëŒ€í•´ ì–˜ê¸°í–ˆë‹¤.

ë˜ ì¶”ê°€ ìž‘ì—…ì´ í•„ìš”í•œ ê²½ìš° íŒ€ì´ ë¬¸ì œë¥¼ í—·ê°ˆë ¤í•˜ì§€ ì•Šë„ë¡ ìš”êµ¬ì‚¬í•­ ì •ë¦¬ ë¬¸ì„œë„ ì—´ì‹¬ížˆ ìž‘ì„±í•´ì„œ ì „ë‹¬ë“œë¦¬ê¸°ë„ í–ˆë‹¤.

![](assets/img/post/2025/04_22_ìš”êµ¬ì‚¬í•­_ë¬¸ì„œ.png){: width=500}_ì—¬ëŸ¬ ìš”êµ¬ì‚¬í•­ ì¤‘ í•˜ë‚˜_

ì´ë²ˆ ëª¨ë“ˆí™”ë¥¼ í†µí•´ ê° ë ˆì´ì–´ì˜ ì±…ìž„ì„ ëª…í™•ížˆ ë¶„ë¦¬í•˜ê³ , ì˜ì¡´ì„± ë°©í–¥ì„±ì„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•  ìˆ˜ ìžˆì—ˆë‹¤. 

í•˜ì§€ë§Œ ì•„ì§ ê°œì„ í•´ì•¼ í•  ë¶€ë¶„ë„ ì¡´ìž¬í•œë‹¤.

- DataLayer ë‚´ì—ì„œ ë„¤íŠ¸ì›Œí¬ ë¡œì§ê¹Œì§€ ë‹´ë‹¹í•˜ê³  ìžˆëŠ” Data ëª¨ë“ˆ ì„¸ë¶„í™”
- ì¼ë¶€ ì„œë¹„ìŠ¤ ë¡œì§ì´ Core ëª¨ë“ˆì— ë‚¨ì•„ ìžˆëŠ” êµ¬ì¡°ë¥¼ UseCase ë‹¨ìœ¼ë¡œ ì˜®ê²¨ ë ˆì´ì–´ ê°„ ì—­í•  ì¶”ê°€ ë¶„ë¦¬
- ê³µí†µ íŒ¨í‚¤ì§€ì˜ ì˜ì¡´ ë°©ì‹ì„ staticì—ì„œ dynamicìœ¼ë¡œ ì „í™˜í•´ ì¤‘ë³µ í¬í•¨ì„ ë°©ì§€

í•˜ì§€ë§Œ ìš°ì„ ì€ ì´ë²ˆ ê³¼ì •ì„ í†µí•´ ë‹¨ìˆœí•œ êµ¬ì¡° ê°œì„ ì„ ë„˜ì–´ì„œ íŒ€ ì „ì²´ì˜ ì•„í‚¤í…ì²˜ ë°©í–¥ì„±ì„ ê³µìœ í•˜ëŠ” ê³„ê¸°ê°€ ë  ìˆ˜ ìžˆì—ˆê³ , íŒ€ê³¼ í•¨ê»˜ ë†’ì€ ìœ ì§€ë³´ìˆ˜ì„±ì˜ ì½”ë“œë¥¼ ë§Œë“¤ì–´ê°ˆ ìˆ˜ ìžˆëŠ” ê¸°ë°˜ì„ ë§ˆë ¨í•  ìˆ˜ ìžˆì—ˆë˜ê²ƒ ê°™ë‹¤.

## ðŸ”— ë ˆí¼ëŸ°ìŠ¤
> **í•´ë‹¹ ìžë£Œë¥¼ ì°¾ì•„ë³´ë©° ë„ì›€ì´ ëë˜ ë§í¬**
>- [2024 ë¶€ìŠ¤íŠ¸ìº í”„ iOS repositories](https://github.com/orgs/boostcampwm-2024/repositories?q=iOS)